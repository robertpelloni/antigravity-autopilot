# Antigravity Autopilot: Project Vision

## Ultimate Goal
To create the **Antigravity Autopilot**, a fully autonomous, self-correcting, and multi-modal AI coding assistant that acts as a "Yoke" for the user's development environment. It unifies VS Code, Cursor, and Chrome DevTools Protocol (CDP) into a single, cohesive intelligent agent that not only assists but *leads* the development process when authorized.

## Core Pillars

### 1. The "Yoke" Concept
Just as a yoke connects oxen to pull a plow, Antigravity connects disjointed AI tools (Copilot, native LLMs, local models) into one powerful force.
- **Unified Control**: One dashboard to rule them all. Toggle "Autopilot" and the system manages Copilot suggestions, terminal execution, and chat interactions.
- **Autonomous Loop**: The system doesn't just wait for input; it actively checks for "Waiting" states, "Error" states, and "Idle" states, and intervenes (Bumps) to keep the flow moving.

### 2. Deep Integration Strategy
- **CDP (Chrome DevTools Protocol)**: We bypass surface-level APIs by injecting directly into the VS Code renderer process. This allows us to "see" what the user seesâ€”DOM elements, shadow roots, and dynamic UI states that standard APIs hide.
- **Hybird Execution**: We combine native VS Code commands (`vscode.commands.executeCommand`) with low-level simulated user interactions (Clicking specific DOM nodes, injecting text events) to ensure 100% reliable execution.

### 3. Multi-Modal Interaction
- **Voice Control**: "Always Listening" or "Push-to-Talk" integration that allows the user to dictate complex commands or simply say "Next" to trigger the next step in a workflow.
- **Visual Feedback**: The system enables "God Mode" visibility, highlighting elements it is interacting with (Red Borders) and providing real-time status chips in the dashboard.

### 4. Smart Self-Correction
- **Blind Bump vs. Smart Bump**: Transitioning from "Blindly typing 'continue' every 60 seconds" to "Reading the runtime state, seeing the AI has stopped prematurely, and intelligently prompting it to finish the specific task."
- **Watchdogs**: Background processes that monitor for "Hanging" states, "Network Failures", or "Context Window Limits" and automatically apply remediation strategies (e.g., clearing context, restarting the agent).

## Roadmap to Singularity
1.  **Granular Control (Done)**: User has full checkboxes for every atomic action.
2.  **Smart Resume (Next)**: Replace blind timers with state-aware completion detection.
3.  **Voice Integration**: Full voice command support.
4.  **Multi-Tab Orchestration**: Managing multiple concurrent streams of work.
5.  **LLM Hand-off**: Automated generation of `HANDOFF.md` artifacts to allow seamless transition between AI models (Gemini -> Claude -> GPT).

## Architecture
- **Root**: `src/extension.ts`
- **Brain**: `src/strategies/cdp-strategy.ts`
- **Senses**: `src/services/cdp/cdp-handler.ts` (The eyes)
- **Hands**: `src/strategies/interaction-methods.ts` (The actuators)
- **Voice**: `src/modules/voice/` (The ears)

---
*Generated by Antigravity (Gemini 2.0 Flash) - 2026-02-18*
